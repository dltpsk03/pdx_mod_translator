# translator_project/translator_app/utils/localization.py

# --- 언어별 UI 텍스트 및 메시지 ---

CURRENT_LANGUAGE = "ko" 

LANGUAGES = {
    "ko": {
        # ======================================================================
        # 1. 공통 및 일반 (Common & General)
        # ======================================================================
        "title": "패독겜 모드번역기 v0.5",
        "ui_lang_self_name": "한국어",
        "error_title": "오류",
        "warn_title": "경고",
        "info_title": "정보",
        "confirm": "확인",
        "success": "성공",
        "error": "오류",
        "warning": "경고",
        "open": "열기",
        "close": "닫기",
        "clear": "지우기",
        "browse_button": "찾아보기",
        "refresh": "새로고침",
        "export": "내보내기",
        "analyzing": "분석 중...",
        "analysis_complete": "분석 완료",
        "feature_not_implemented": "{0} 기능은 아직 구현되지 않았습니다.",
        "no_data_to_export": "내보낼 데이터가 없습니다",
        "file_progress_format": "파일: {0}/{1}",
        "files_label": "파일: -/-",
        "translating": "번역 중...",
        "translation_completed": "번역 완료!",
        "eta_seconds": "약 {0}초 남음",
        "eta_minutes": "약 {0}분 남음",
        "eta_hours": "약 {0}시간 {1}분 남음",

        # ======================================================================
        # 2. 메인 창 UI (Main Window UI)
        # ======================================================================
        # 2.1. UI 설정 (UI Settings)
        "ui_settings_frame_title": "UI 설정",
        "ui_lang_label": "UI 언어:",
        "ui_lang_tooltip": "프로그램 인터페이스의 표시 언어를 변경합니다.",
        "appearance_mode_label": "테마 모드:",
        "dark_mode": "어둡게",
        "light_mode": "밝게",
        "system_mode": "시스템 기본",
        "refresh_button_tooltip": "UI 새로고침",

        # 2.2. API 및 모델 설정 (API & Model Settings)
        "api_settings_frame": "API 및 모델 설정",
        "api_key_label": "Gemini API 키:",
        "api_key_tooltip": "Google AI Studio에서 발급받은 Gemini API 키를 입력하세요.\n예: AIzaSy...",
        "model_label": "번역 모델:",
        "model_tooltip": "번역에 사용할 Gemini 모델을 선택합니다.\n모델마다 성능과 비용이 다를 수 있습니다.",
        "temperature_label": "템퍼러쳐:",
        "temperature_tooltip": "번역의 무작위성 제어 (0.0=일관적, 1.0=창의적)",

        # 2.3. 폴더 설정 (Folder Settings)
        "folder_frame": "폴더 선택",
        "input_folder_label": "입력 폴더:",
        "input_folder_tooltip": "번역할 원본 YML 파일들이 들어있는 폴더를 선택하세요.",
        "input_browse_tooltip": "입력 폴더를 선택하는 탐색기를 엽니다.",
        "output_folder_label": "출력 폴더:",
        "output_browse_tooltip": "출력 폴더를 선택하는 탐색기를 엽니다.",
        "output_folder_tooltip": "번역된 YML 파일들을 저장할 폴더를 선택하세요.",

        # 2.4. 번역 언어 설정 (Translation Language Settings)
        "lang_settings_frame": "번역 언어 설정 (API 요청용)",
        "source_content_lang_label": "원본 내용 언어:",
        "source_content_lang_tooltip": "YML 파일 내 텍스트의 실제 원본 언어를 선택합니다.\nAPI에 이 정보를 전달하여 번역 품질을 높입니다.",
        "target_trans_lang_label": "번역 대상 언어:",
        "target_trans_lang_tooltip": "텍스트를 어떤 언어로 번역할지 선택합니다.\n출력 파일의 언어 식별자(l_korean 등)도 이 설정에 따라 변경될 수 있습니다.",
        "game_type_label": "게임 선택:",
        "game_type_tooltip": "번역할 게임을 선택하면 해당 게임에 최적화된 번역 설정이 적용됩니다.",
        
        # 2.5. 번역 상세 설정 (Detailed Translation Settings)
        "detailed_settings_frame": "번역 상세 설정",
        "batch_size_label": "배치 크기:",
        "batch_size_tooltip": "한 번에 API로 보내 번역할 텍스트 라인(줄)의 수입니다.\n너무 크면 API가 응답하지 않거나 오류가 발생할 수 있습니다.",
        "concurrent_files_label": "동시 파일 수:",
        "concurrent_files_tooltip": "여러 파일을 동시에 번역할 때, 한 번에 몇 개까지 병렬로 처리할지 설정합니다.\n컴퓨터 성능에 따라 조절하세요.",
        "max_output_tokens_label": "최대 출력 토큰:",
        "max_output_tokens_tooltip": "번역 결과물(텍스트)의 최대 길이를 토큰 단위로 제한합니다.\n선택한 모델의 최대 토큰 한도를 넘지 않도록 주의하세요.",
        "batch_delay_label": "배치 간 대기(초):",
        "batch_delay_tooltip": "각 번역 배치 요청 사이에 얼마 동안 대기할지 설정합니다 (초 단위).\nAPI의 분당 요청 한도를 초과하지 않도록 돕습니다.",
        "max_retries_label": "재시도 횟수:",
        "max_retries_tooltip": "번역 실패 시 최대 재시도 횟수를 설정합니다. (1-10)",
        "split_threshold_label": "파일 분할 기준(줄):",
        "split_threshold_tooltip": "이 줄 수를 초과하는 파일은 분할하여 번역합니다. (0이면 분할 안 함)",
        "keep_identifier_label": "l_english 식별자 원본 유지",
        "keep_identifier_tooltip": "체크 시: 파일 첫 줄의 'l_english:' 및 파일명의 'l_english' 부분을 변경하지 않고 그대로 둡니다.\n체크 해제 시: '번역 대상 언어'에 맞춰 변경합니다 (예: l_korean).",
        "check_internal_lang_label": "파일명과 다른 내부 언어일 경우 UI 설정 우선",
        "check_internal_lang_tooltip": "체크 시: 파일명이나 파일 첫 줄의 언어 식별자와 UI '원본 내용 언어' 설정이 다를 경우, UI 설정을 우선하여 번역 API에 전달합니다.\n(예: l_english 파일이지만 내용은 중국어일 때, UI 원본을 중국어로 설정하면 중국어로 간주)\n로그에 관련 정보가 기록됩니다.",
        "skip_already_translated_label": "이미 번역된 라인 건너뛰기",
        "skip_already_translated_tooltip": "대상 언어의 문자가 포함된 라인은 이미 번역된 것으로 간주하고 건너뜁니다.",
        "enable_backup_label": "자동 백업 활성화",
        "enable_backup_tooltip": "파일을 덮어쓰기 전에 백업을 생성합니다",

        # 2.6. 프롬프트 및 용어집 (Prompt & Glossary)
        "prompt_glossary_frame_title": "프롬프트 및 용어집 관리",
        "prompt_edit_frame_title": "프롬프트 편집",
        "prompt_edit_textbox_tooltip": "번역 API에 전달될 프롬프트입니다.\n{source_lang_for_prompt}, {target_lang_for_prompt}, {glossary_section}, {batch_text} 플레이스홀더는 유지해야 합니다.",
        "load_prompt_button": "파일에서 불러오기",
        "load_prompt_button_tooltip": "텍스트 파일에서 프롬프트를 불러옵니다.",
        "save_prompt_button": "파일에 저장",
        "save_prompt_button_tooltip": "현재 프롬프트를 텍스트 파일에 저장합니다.",
        "reset_prompt_button": "기본값 복원",
        "reset_prompt_button_tooltip": "프롬프트를 프로그램 기본값으로 되돌립니다.",
        "prompt_file_load_title": "프롬프트 파일 불러오기",
        "prompt_file_save_title": "프롬프트 파일 저장",
        "glossary_management_frame_title": "용어집 관리",
        "add_glossary_button": "용어집 추가",
        "add_glossary_button_tooltip": "새 용어집 파일을 목록에 추가합니다.",
        "remove_glossary_button": "선택 용어집 제거",
        "remove_glossary_button_tooltip": "목록에서 선택된 용어집 파일을 제거합니다.",
        "glossary_list_tooltip": "활성화된 용어집 목록입니다. 번역에 사용됩니다.",
        "glossary_file_select_title": "용어집 파일 선택",
        "glossary_item_loaded": "로드됨: {0} ({1}개 항목)",
        "glossary_item_error": "오류: {0}",
        "glossary_item_empty": "비어있음: {0}",
        "glossary_error_not_found": "파일 없음",
        "glossary_error_empty": "빈 파일",
        "glossary_error_no_valid": "유효 항목 없음",

        # 2.7. 제어판 및 진행상황 (Control Panel & Progress)
        "translate_button": "번역 시작",
        "translate_button_tooltip": "입력된 설정으로 모든 대상 파일의 번역을 시작합니다.",
        "stop_button": "중지",
        "stop_button_tooltip": "현재 진행 중인 번역 또는 검증 작업을 중지합니다.\n(이미 시작된 배치는 완료될 수 있습니다)",
        "progress_frame": "진행 상황",
        "log_frame": "실행 로그",
        
        # 2.8. 상태 표시줄 메시지 (Status Bar Messages)
        "status_waiting": "대기 중...",
        "status_preparing": "준비 중...",
        "status_translating": "번역 중...",
        "status_translating_progress": "번역 진행 중... ({0}/{1})",
        "status_chunk_progress": "청크 진행 중... ({0}/{1})",
        "status_completed_all": "모든 파일 처리 완료 ({0}/{1})",
        "status_stopped": "작업 중지됨 ({0}/{1} 처리)",
        "status_completed_some": "일부 파일 처리 완료 ({0}/{1})",
        "status_no_files": "처리할 YML 파일을 찾지 못했습니다.",
        "log_no_yml_files_found_short": "파일 없음",
        "log_search_yml_files_short": "파일 검색 중...",
        "status_stopped_short": "중지됨",
        "status_completed_some_short": "일부 완료",
        "status_completed_all_short": "모두 완료",

        # 2.9. 도구 메뉴 (Tools Menu)
        "tools_menu": "도구",
        "open_dashboard": "번역 통계 대시보드",
        "open_consistency_checker": "용어 일관성 검사기",

        # ======================================================================
        # 3. 실행 로그 (Execution Logs)
        # ======================================================================
        # 3.1. 일반/정보 로그 (General/Info Logs)
        "settings_saved_log": "설정이 저장되었습니다.",
        "log_model_start": "'{0}' 모델을 사용하여 번역을 시작합니다.",
        "log_search_yml_files": "입력 폴더에서 파일명에 '{0}' 문자열을 포함하는 YML 파일을 찾고 있습니다...",
        "log_found_yml_files": "입력 폴더에서 {0}개의 YML 파일을 찾았습니다.",
        "log_total_files_start": "총 {0}개의 파일을 번역합니다.",
        "log_concurrent_workers": "동시 처리 워커 수: {}",
        "log_drag_drop_folder_set": "드래그 앤 드롭으로 입력 폴더 설정: {0}",
        "log_file_processing": "파일 처리 중: {}",
        "log_file_process_start": "파일 '{0}' ({1}줄) 처리(번역)를 시작합니다.",
        "log_file_completed": "파일 처리 완료: {0}",
        "log_line_already_translated": "파일 '{0}': {1}번 라인은 이미 번역되어 건너뜁니다.",
        "log_file_split_start": "파일 '{0}'({1}줄)이 너무 커서 {2}줄 단위로 분할하여 번역합니다.",
        "log_processing_chunk": "청크 {0}/{1} ('{2}') 처리 중...",
        "log_chunk_completed": "청크 {0}/{1} 완료.",
        "log_merging_chunks": "번역된 청크들을 최종 파일 '{0}'(으)로 병합 중...",
        "log_temp_dir_created": "임시 청크 디렉토리 생성: {0}",
        "log_temp_dir_removed": "임시 청크 디렉토리 삭제: {0}",
        "log_batch_translate": "  텍스트 일부 번역 중: {0}~{1} / 총 {2}줄",
        "log_batch_translated_count": "파일 '{}': {}개 항목 중 {}개 번역됨",
        "log_batch_translation_summary": "파일 '{}': {}개 항목 번역됨 (총 {}개)",
        "log_batch_all_already_translated": "파일 '{0}': 이 배치의 모든 라인이 이미 번역되어 있습니다.",
        "log_translation_lines_count": "파일 '{}': 원본 {}줄 -> 번역 {}줄",
        "log_file_saved_size": "파일 '{}' 저장됨 (크기: {} bytes)",
        "log_first_line_keep": "  파일 첫 줄의 'l_english:' 식별자를 원본 그대로 유지합니다.",
        "log_first_line_change": "  파일 첫 줄 식별자를 '{0}'에서 '{1}'(으)로 변경합니다.",
        "log_output_filename_change": "  출력 파일명을 '{0}'에서 '{1}'(으)로 변경합니다.",
        "log_backup_created": "백업 파일 생성: {0}",
        "log_checkpoint_found": "파일 '{0}'의 체크포인트 발견. {1}줄부터 재개합니다.",
        "log_translation_complete_save": "번역 완료! 파일 '{0}'(으)로 저장되었습니다.",
        "log_all_translation_done": "모든 파일의 번역 작업이 완료되었습니다!",
        "log_stop_requested": "작업 중지 요청됨...",
        "log_translation_stopped_by_user": "사용자에 의해 번역 작업이 중지되었습니다.",
        "log_prompt_loaded_from_custom": "사용자 정의 프롬프트를 사용합니다.",
        "log_prompt_loaded_from_file": "파일 '{0}'에서 프롬프트를 로드했습니다.",
        "log_prompt_saved_to_file": "프롬프트가 파일 '{0}'에 저장되었습니다.",
        "log_prompt_reset_to_default": "프롬프트가 기본값으로 복원되었습니다.",
        "log_glossary_added": "용어집 '{0}' 추가됨.",
        "log_glossary_removed": "용어집 '{0}' 제거됨.",
        "log_combined_glossary_empty": "병합된 용어집이 비어있습니다.",
        "log_combined_glossary_info": "병합된 용어집에서 {0}개 유효 항목을 사용합니다.",
        "log_retrying_missing_lines": "누락된 {0}개 라인 재번역 시도 중... (시도 {1}/3)",

        # 3.2. 오류/경고 로그 (Error/Warning Logs)
        "error_api_key_needed": "Gemini API 키를 입력해야 합니다.",
        "error_model_needed": "번역 모델을 선택해야 합니다.",
        "error_input_folder_invalid": "올바른 입력 폴더를 선택해야 합니다.",
        "error_output_folder_needed": "출력 폴더를 선택해야 합니다.",
        "error_numeric_setting_invalid": "숫자 설정값이 올바르지 않습니다. 유효한 숫자를 입력해주세요.",
        "error_prompt_missing_placeholders": "프롬프트에 필수 플레이스홀더가 누락되었습니다: {0}",
        "error_create_output_folder": "출력 폴더를 만들 수 없습니다: {0}",
        "warn_already_translating": "이미 번역 작업이 진행 중입니다. 기다려 주십시오.",
        "warn_already_validating": "이미 검증 작업이 진행 중입니다. 기다려 주십시오.",
        "warn_already_processing": "다른 작업(번역 또는 검증)이 이미 진행 중입니다.",
        "info_no_translation_active": "현재 진행 중인 번역 작업이 없습니다.",
        "info_no_validation_active": "현재 진행 중인 검증 작업이 없습니다.",
        "log_api_model_init_fail": "API 또는 모델 초기화에 실패했습니다: {0}",
        "log_no_yml_files_found": "입력 폴더 '{0}'에서 파일명에 '{1}'을(를) 포함하는 YML 파일을 찾지 못했습니다.",
        "log_file_empty": "파일 '{0}'이(가) 비어있어 건너뜁니다.",
        "log_file_only_identifier": "  파일 '{0}'은(는) 식별자 라인만 포함하고 있어, 내용 번역은 건너뜁니다.",
        "log_file_no_content_to_translate": "  파일 '{0}'에 번역할 내용이 없습니다.",
        "log_batch_no_translatable": "번역 가능한 항목이 없음: {}",
        "log_file_process_error": "파일 '{0}' 처리 중 오류 발생: {1}",
        "log_file_save_error": "파일 '{}' 저장 오류: {}",
        "log_file_thread_error": "파일 '{}' 스레드 오류: {}",
        "log_parallel_process_error": "파일 '{0}' 병렬 처리 중 오류 발생: {1}",
        "log_file_task_cancelled": "파일 '{0}' 처리 작업이 취소되었습니다.",
        "log_chunk_processing_stopped": "파일 '{0}'의 청크 처리 중 중단되었습니다.",
        "log_chunk_processing_failed": "파일 '{0}'의 일부 청크 처리에 실패했습니다.",
        "log_temp_dir_remove_fail": "임시 청크 디렉토리 '{0}' 삭제 실패: {1}",
        "log_translation_process_error": "번역 작업 중 전체 오류 발생: {0}",
        "log_file_process_stopped": "파일 '{0}' 처리 중 작업이 중지되었습니다.",
        "log_internal_lang_mismatch_using_ui": "파일 '{0}'의 첫 줄 식별자 '{1}'(은)는 UI에서 설정한 원본 언어 '{2}'와 다릅니다. UI 설정을 사용하여 번역합니다.",
        "log_internal_lang_no_identifier_using_ui": "파일 '{0}'에서 언어 식별자를 찾을 수 없습니다. UI에서 설정한 원본 언어 '{1}'을(를) 사용하여 번역합니다.",
        "log_game_prompt_error": "게임 프롬프트 오류: {}",
        "log_yml_check_error": "YML 검사 오류: {}",
        "log_stats_save_error": "통계 저장 오류: {}",
        "log_stats_error": "통계 처리 오류: {}",
        "stats_load_error": "통계 로드 오류: {0}",
        "log_preview_callback_error": "미리보기 콜백 오류: {}",
        "log_stats_callback_error": "통계 콜백 오류: {}",
        "log_backup_error": "백업 생성 실패: {0}",
        "log_failed_to_translate_all": "일부 라인({0}개)의 번역에 최종 실패했습니다.",
        "log_file_validation_errors": "파일 '{0}': YML 구문 오류 {1}",
        "log_yml_validation_errors": "파일 '{0}': {1}개의 구문 오류 발견",
        "log_yml_validation_summary": "샘플 검증 결과: {1}개 파일에서 총 {0}개의 오류 발견",
        "log_validation_error_detail": "  - {0}",
        "log_verification_error": "번역 검증 중 오류 발생: {0}",
        "log_missing_lines_detected": "번역 검증: {0}개의 누락된 라인 감지 (전체 {1}개 중)",

        # 3.3. API/배치 관련 로그 (API/Batch Logs)
        "log_api_calling": "파일 '{}': API 호출 중...",
        "log_api_response_received": "파일 '{}': 응답 수신 ({}자)",
        "log_api_no_response": "파일 '{}': API 응답 없음",
        "log_batch_debug_start": "파일 '{}': 배치 처리 시작 ({}개 라인)",
        "log_batch_translate_debug": "번역 언어 설정: {}",
        "log_api_call_debug": "API 호출: {}",
        "log_api_response_debug": "API 응답: {}",
        "log_batch_prompt_blocked": "파일 '{0}', 배치 처리: API 프롬프트가 차단되었습니다 (이유: {1}). 원본 내용을 반환합니다.",
        "log_batch_token_limit": "파일 '{0}', 배치 처리: API 출력 토큰 한계에 도달했습니다 (사유 코드: {1}). 배치를 나눠 다시 시도합니다.",
        "log_batch_single_line_token_limit": "파일 '{0}', 배치 처리: 한 줄의 내용도 토큰 한계를 초과합니다. 원본 내용을 반환합니다.",
        "log_batch_abnormal_termination": "파일 '{0}', 배치 처리: 번역이 비정상적으로 종료되었습니다 ({1}). 원본 내용을 반환합니다.",
        "log_batch_empty_response": "파일 '{0}', 배치 처리: API로부터 빈 응답을 받았습니다. 원본 내용을 반환합니다.",
        "log_batch_line_mismatch": "파일 '{0}', 배치 처리: 번역된 줄 수가 원본과 다릅니다. 조정 없이 그대로 반환합니다.",
        "log_batch_retry_key_value_mismatch": "파일 '{}': key-value 쌍 수 불일치 ({} -> {}). 재시도 중... ({}/{})",
        "log_batch_retry_due_to_mismatch": "파일 '{0}': 라인 수 불일치 ({1} -> {2}). 재시도 중... ({3}/{4})",
        "log_batch_max_retries_exceeded": "파일 '{0}': 최대 재시도 횟수({1})를 초과했습니다.",
        "log_batch_api_limit_error_split": "파일 '{0}', 배치 처리: API 요청 제한 관련 오류 발생 ({1}). 배치를 나눠 다시 시도합니다.",
        "log_batch_single_line_api_limit": "파일 '{0}', 배치 처리: 한 줄의 내용도 API 요청 제한 오류가 발생했습니다. 원본 내용을 반환합니다.",
        "log_batch_unknown_error": "파일 '{0}', 배치 처리 중 알 수 없는 오류 발생: {1}",
        
        # 3.4. 건너뛰기 로직 관련 로그 (Skip Logic Logs)
        "log_skip_already_translated_enabled": "기번역 건너뛰기 옵션 활성화됨 (배치 단위)",
        "log_skip_batch_status": "배치 번역 상태: {}/{} ({:.2f}), 임계값: {}/{}",
        "log_skip_mixed_language_detected": "혼재 언어 감지 - 원본 언어 라인만 선별 번역",
        "log_skip_line_skipped": "라인 {} 건너뛰기: '{}'...",
        "log_skip_line_to_translate": "라인 {} 번역 대상: '{}'...",
        "log_skip_no_lines_to_translate": "번역할 라인 없음 - 원본 배치 반환",
        "log_skip_selective_translation": "선별 번역 실행: {}개 라인",
        "log_batch_retrying": "파일 '{0}', 오류 발생으로 배치를 한번 더 시도합니다. ({1})",
        "log_batch_low_quality": "파일 '{0}': 번역 품질이 낮습니다 (평균 점수: {1})",
        "log_source_remnant_detected": "Source language remnant detected in line {}: {}...",
        "log_batch_retry_source_remnants": "Retrying batch due to source language remnants ({}/{} lines affected). Retry {}/{}",

        # ======================================================================
        # 4. 도구 (Tools)
        # ======================================================================
        # 4.1. 번역 통계 대시보드 (Translation Statistics Dashboard)
        "dashboard_title": "번역 통계 대시보드",
        "files_tab": "파일",
        "graph_tab": "통계",
        "log_tab": "로그",
        "summary_title": "요약",
        "session_time": "세션 시간",
        "total_files": "총 파일",
        "completed_files": "완료됨",
        "avg_quality": "평균 품질",
        "total_lines": "총 라인",
        "lines_per_min": "분당 라인",
        "current_progress": "현재 진행 상황",
        "no_active_translation": "활성 번역 없음",
        "status_idle": "대기",
        "status_active": "활성",
        "status_completed": "완료",
        "translating": "번역 중",
        "translation_completed": "번역 완료",
        "new_translation_started": "새 번역 세션이 시작되었습니다",
        "starting_translation": "번역 시작 중...",
        "search_placeholder": "파일 검색...",
        "filter_quality": "품질:",
        "filter_all": "전체",
        "sort_by": "정렬:",
        "sort_newest": "최신순",
        "sort_oldest": "오래된순",
        "sort_quality_high": "품질 (높은순)",
        "sort_quality_low": "품질 (낮은순)",
        "sort_time_fast": "시간 (빠른순)",
        "sort_time_slow": "시간 (느린순)",
        "col_filename": "파일명",
        "col_status": "상태",
        "col_quality": "품질",
        "col_time": "시간",
        "col_lines": "라인",
        "col_actions": "작업",
        "open_folder": "폴더 열기",
        "quality_distribution": "품질 분포",
        "time_statistics": "시간 통계",
        "clear_log": "로그 지우기",
        "export_stats": "내보내기",
        "clear_all": "모두 지우기",
        "confirm_clear_all": "모든 통계를 지우시겠습니까?",
        "all_data_cleared": "모든 데이터가 지워졌습니다",
        "export_success": "통계를 성공적으로 내보냈습니다",
        "display_refreshed": "화면이 새로고침되었습니다",
        "filename": "파일명",
        "full_path": "전체 경로",
        "original_file": "원본 파일",
        "time_taken": "소요 시간",
        "lines_translated": "번역된 라인",
        "quality_score": "품질 점수",
        "errors_found": "발견된 오류",
        "completed_at": "완료 시각",
        "stat_total_files": "총 파일 수",
        "stat_total_lines": "총 라인 수",
        "stat_avg_time": "평균 시간/파일",
        "stat_error_rate": "오류율",
        "stat_avg_quality": "평균 품질",
        "stat_total_time": "총 시간",
        "stat_total_errors": "오류",
        "chart_speed": "번역 속도",
        "chart_quality": "품질 분포",
        "chart_errors": "오류 유형",
        "chart_file_index": "파일 인덱스",
        "chart_time_seconds": "시간 (초)",
        "chart_quality_score": "품질 점수",
        "chart_file_count": "파일 개수",
        "detail_stats_label": "파일별 세부 통계",
        "translation_stats_file": "번역 통계 파일",
        "stats_saved": "통계가 저장되었습니다.",

        # 4.2. 용어 일관성 검사기 (Term Consistency Checker)
        "consistency_checker_title": "용어 일관성 검사기",
        "analyze_consistency": "일관성 분석",
        "min_occurrences": "최소 발생 횟수:",
        "inconsistencies_found": "개의 불일치 발견",
        "no_inconsistencies_found": "불일치 항목이 없습니다.",
        "tab_inconsistencies": "불일치 항목",
        "tab_term_dictionary": "용어 사전",
        "col_original_term": "원어",
        "col_translations": "번역 목록",
        "col_files": "파일",
        "col_occurrences": "발생 횟수",
        "col_original": "원어",
        "col_translation": "번역",
        "col_frequency": "빈도",
        "col_consistency": "일관성",
        "search_term": "검색:",
        "export_glossary": "용어집으로 내보내기",
        "fix_selected": "선택 항목 수정",
        "export_glossary_title": "용어집 내보내기",
        "glossary_exported": "용어집이 {}에 저장되었습니다.",
        "glossary_export_error": "용어집 내보내기 오류: {}",
        "no_output_folder": "출력 폴더 없음",

        # 일부 중요한 키들만 유지 (라이브 프리뷰에서 사용)
        "review_original_label": "원본",
        "review_translated_label": "번역",
        "validation_error_regex": "형식 오류",
        "no_errors": "오류 없음",

        # 4.5. 실시간 미리보기 (Live Preview)
        "live_preview_title": "실시간 번역 미리보기",
        "auto_scroll": "자동 스크롤",
        "show_quality": "품질 표시",
        "clear_preview": "초기화",
        "pause_preview": "일시정지",
        "resume_preview": "재개"
    },
    "en": {
        # ======================================================================
        # 1. Common & General
        # ======================================================================
        "title": "Paradox Game Mod Translator v0.5",
        "ui_lang_self_name": "English",
        "error_title": "Error",
        "warn_title": "Warning",
        "info_title": "Information",
        "confirm": "Confirm",
        "success": "Success",
        "error": "Error",
        "warning": "Warning",
        "open": "Open",
        "close": "Close",
        "clear": "Clear",
        "browse_button": "Browse",
        "refresh": "Refresh",
        "export": "Export",
        "analyzing": "Analyzing...",
        "analysis_complete": "Analysis complete",
        "feature_not_implemented": "{0} feature is not implemented yet.",
        "no_data_to_export": "No data to export",

        # ======================================================================
        # 2. Main Window UI
        # ======================================================================
        # 2.1. UI Settings
        "ui_settings_frame_title": "UI Settings",
        "ui_lang_label": "UI Language:",
        "ui_lang_tooltip": "Changes the display language of the program interface.",
        "appearance_mode_label": "Theme Mode:",
        "dark_mode": "Dark",
        "light_mode": "Light",
        "system_mode": "System Default",
        "refresh_button_tooltip": "Refresh UI",

        # 2.2. API & Model Settings
        "api_settings_frame": "API and Model Settings",
        "api_key_label": "Gemini API Key:",
        "api_key_tooltip": "Enter the Gemini API key issued from Google AI Studio.\nExample: AIzaSy...",
        "model_label": "Translation Model:",
        "model_tooltip": "Select the Gemini model to use for translation.\nPerformance and cost may vary by model.",
        "temperature_label": "Temperature:",
        "temperature_tooltip": "Controls randomness in translation (0.0=deterministic, 1.0=creative)",

        # 2.3. Folder Settings
        "folder_frame": "Folder Selection",
        "input_folder_label": "Input Folder:",
        "input_folder_tooltip": "Select the folder containing the original YML files to be translated.",
        "input_browse_tooltip": "Opens a file explorer to select the input folder.",
        "output_folder_label": "Output Folder:",
        "output_browse_tooltip": "Opens a file explorer to select the output folder.",
        "output_folder_tooltip": "Select the folder to save the translated YML files.",

        # 2.4. Translation Language Settings
        "lang_settings_frame": "Translation Language Settings (for API request)",
        "source_content_lang_label": "Source Content Language:",
        "source_content_lang_tooltip": "Select the actual source language of the text within the YML files.\nThis information is passed to the API to improve translation quality.",
        "target_trans_lang_label": "Target Translation Language:",
        "target_trans_lang_tooltip": "Select the language to translate the text into.\nThe language identifier in the output file (e.g., l_korean) may also change based on this setting.",
        "game_type_label": "Game Selection:",
        "game_type_tooltip": "Select the game to apply optimized translation settings for that specific game.",
        
        # 2.5. Detailed Translation Settings
        "detailed_settings_frame": "Detailed Translation Settings",
        "batch_size_label": "Batch Size:",
        "batch_size_tooltip": "The number of text lines to send to the API for translation at once.\nIf too large, the API may not respond or an error may occur.",
        "concurrent_files_label": "Concurrent Files:",
        "concurrent_files_tooltip": "When translating multiple files concurrently, set how many to process in parallel at once.\nAdjust according to your computer's performance.",
        "max_output_tokens_label": "Max Output Tokens:",
        "max_output_tokens_tooltip": "Limits the maximum length of the translated text in tokens.\nBe careful not to exceed the maximum token limit of the selected model.",
        "batch_delay_label": "Delay Between Batches (sec):",
        "batch_delay_tooltip": "Sets how long to wait between each translation batch request (in seconds).\nHelps prevent exceeding the API's requests per minute limit.",
        "max_retries_label": "Max Retries:",
        "max_retries_tooltip": "Set the maximum number of retry attempts for failed translations. (1-10)",
        "split_threshold_label": "File Split Threshold (lines):",
        "split_threshold_tooltip": "Files exceeding this line count will be split for translation. (0 for no split)",
        "keep_identifier_label": "Keep original l_english identifier",
        "keep_identifier_tooltip": "Checked: Keeps the 'l_english:' in the first line of the file and 'l_english' in the filename unchanged.\nUnchecked: Changes it according to the 'Target Translation Language' (e.g., l_korean).",
        "check_internal_lang_label": "Prioritize UI setting if internal language differs from filename",
        "check_internal_lang_tooltip": "Checked: If the language identifier in the filename or first line differs from the UI 'Source Content Language' setting, the UI setting is prioritized for the translation API.\n(e.g., If an l_english file actually contains Chinese text, and the UI source is set to Chinese, it's treated as Chinese).\nRelevant information will be logged.",
        "skip_already_translated_label": "Skip Already Translated Lines",
        "skip_already_translated_tooltip": "Lines containing target language characters will be considered already translated and skipped.",
        "enable_backup_label": "Enable Automatic Backups",
        "enable_backup_tooltip": "Creates a backup before overwriting a file.",

        # 2.6. Prompt & Glossary
        "prompt_glossary_frame_title": "Prompt & Glossary Management",
        "prompt_edit_frame_title": "Edit Prompt",
        "prompt_edit_textbox_tooltip": "This is the prompt that will be sent to the translation API.\nThe placeholders {source_lang_for_prompt}, {target_lang_for_prompt}, {glossary_section}, {batch_text} must be maintained.",
        "load_prompt_button": "Load from File",
        "load_prompt_button_tooltip": "Loads the prompt from a text file.",
        "save_prompt_button": "Save to File",
        "save_prompt_button_tooltip": "Saves the current prompt to a text file.",
        "reset_prompt_button": "Restore Default",
        "reset_prompt_button_tooltip": "Resets the prompt to the program's default value.",
        "prompt_file_load_title": "Load Prompt File",
        "prompt_file_save_title": "Save Prompt File",
        "glossary_management_frame_title": "Glossary Management",
        "add_glossary_button": "Add Glossary",
        "add_glossary_button_tooltip": "Adds a new glossary file to the list.",
        "remove_glossary_button": "Remove Selected Glossary",
        "remove_glossary_button_tooltip": "Removes the selected glossary file from the list.",
        "glossary_list_tooltip": "List of active glossaries. Used for translation.",
        "glossary_file_select_title": "Select Glossary File",
        "glossary_item_loaded": "Loaded: {0} ({1} items)",
        "glossary_item_error": "Error: {0}",
        "glossary_item_empty": "Empty: {0}",
        "glossary_error_not_found": "File Not Found",
        "glossary_error_empty": "Empty File",
        "glossary_error_no_valid": "No Valid Entries",

        # 2.7. Control Panel & Progress
        "translate_button": "Start Translation",
        "translate_button_tooltip": "Starts translating all target files with the entered settings.",
        "stop_button": "Stop",
        "stop_button_tooltip": "Stops the currently ongoing translation or validation process.\n(Batches already started may complete)",
        "progress_frame": "Progress",
        "log_frame": "Execution Log",
        
        # 2.8. Status Bar Messages
        "status_waiting": "Waiting...",
        "status_preparing": "Preparing...",
        "status_translating": "Translating...",
        "status_translating_progress": "Translating... ({0}/{1})",
        "status_chunk_progress": "Chunk progress... ({0}/{1})",
        "status_completed_all": "All files processed ({0}/{1})",
        "status_stopped": "Process stopped ({0}/{1} processed)",
        "status_completed_some": "Some files processed ({0}/{1})",
        "status_no_files": "No YML files found to process.",
        "log_no_yml_files_found_short": "No files",
        "log_search_yml_files_short": "Searching files...",
        "status_stopped_short": "Stopped",
        "status_completed_some_short": "Partial",
        "status_completed_all_short": "All Done",

        # 2.9. Tools Menu
        "tools_menu": "Tools",
        "open_dashboard": "Translation Statistics Dashboard",
        "open_consistency_checker": "Term Consistency Checker",
        "open_comparison_window_button": "Open File Comparison/Review Window",
        "open_retranslation_window_button": "Open Retranslation Tool",

        # ======================================================================
        # 3. Execution Logs
        # ======================================================================
        # 3.1. General/Info Logs
        "settings_saved_log": "Settings have been saved.",
        "log_model_start": "Starting translation using '{0}' model.",
        "log_search_yml_files": "Searching for YML files containing '{0}' in their filename in the input folder...",
        "log_found_yml_files": "Found {0} YML files in input folder.",
        "log_total_files_start": "Processing a total of {0} files for translation.",
        "log_concurrent_workers": "Number of concurrent workers: {}",
        "log_drag_drop_folder_set": "Input folder set via drag and drop: {0}",
        "log_file_processing": "Processing file: {}",
        "log_file_process_start": "Starting processing (translation) of file '{0}' ({1} lines).",
        "log_file_completed": "File processing completed: {0}",
        "log_line_already_translated": "File '{0}': Line {1} already translated, skipping.",
        "log_file_split_start": "File '{0}' ({1} lines) is too large, splitting and translating in chunks of {2} lines.",
        "log_processing_chunk": "Processing chunk {0}/{1} ('{2}')...",
        "log_chunk_completed": "Chunk {0}/{1} completed.",
        "log_merging_chunks": "Merging translated chunks into final file '{0}'...",
        "log_temp_dir_created": "Temporary chunk directory created: {0}",
        "log_temp_dir_removed": "Temporary chunk directory removed: {0}",
        "log_batch_translate": "  Translating text batch: lines {0}-{1} / total {2}",
        "log_batch_translated_count": "File '{}': {} of {} items translated",
        "log_batch_translation_summary": "File '{}': Translated {} items (total {})",
        "log_batch_all_already_translated": "File '{0}': All lines in this batch are already translated.",
        "log_translation_lines_count": "File '{}': Original {} lines -> Translated {} lines",
        "log_file_saved_size": "File '{}' saved (size: {} bytes)",
        "log_first_line_keep": "  Keeping the 'l_english:' identifier in the first line of the file as original.",
        "log_first_line_change": "  Changing the first line identifier from '{0}' to '{1}'.",
        "log_output_filename_change": "  Changing output filename from '{0}' to '{1}'.",
        "log_backup_created": "Backup file created: {0}",
        "log_checkpoint_found": "Checkpoint found for file '{0}'. Resuming from line {1}.",
        "log_translation_complete_save": "Translation complete! Saved to file '{0}'.",
        "log_all_translation_done": "Translation of all files completed!",
        "log_stop_requested": "Stop process requested...",
        "log_translation_stopped_by_user": "Translation process stopped by user.",
        "log_prompt_loaded_from_custom": "Using custom prompt.",
        "log_prompt_loaded_from_file": "Prompt loaded from file '{0}'.",
        "log_prompt_saved_to_file": "Prompt saved to file '{0}'.",
        "log_prompt_reset_to_default": "Prompt reset to default.",
        "log_glossary_added": "Glossary '{0}' added.",
        "log_glossary_removed": "Glossary '{0}' removed.",
        "log_combined_glossary_empty": "Combined glossary is empty.",
        "log_combined_glossary_info": "Using {0} valid items from the combined glossary.",
        "log_retrying_missing_lines": "Retrying {0} missing lines... (attempt {1}/3)",

        # 3.2. Error/Warning Logs
        "error_api_key_needed": "Gemini API key is required.",
        "error_model_needed": "A translation model must be selected.",
        "error_input_folder_invalid": "A valid input folder must be selected.",
        "error_output_folder_needed": "An output folder must be selected.",
        "error_numeric_setting_invalid": "Numeric setting is invalid. Please enter a valid number.",
        "error_prompt_missing_placeholders": "The prompt is missing required placeholders: {0}",
        "error_create_output_folder": "Could not create output folder: {0}",
        "warn_already_translating": "Translation is already in progress. Please wait.",
        "warn_already_validating": "Validation is already in progress. Please wait.",
        "warn_already_processing": "Another process (translation or validation) is already in progress.",
        "info_no_translation_active": "No translation process is currently active.",
        "info_no_validation_active": "No validation process is currently active.",
        "log_api_model_init_fail": "API or model initialization failed: {0}",
        "log_no_yml_files_found": "No YML files containing '{1}' in their filename found in input folder '{0}'.",
        "log_file_empty": "File '{0}' is empty, skipping.",
        "log_file_only_identifier": "  File '{0}' only contains the identifier line, skipping content translation.",
        "log_file_no_content_to_translate": "  File '{0}' has no content to translate.",
        "log_batch_no_translatable": "No translatable items found: {}",
        "log_file_process_error": "Error processing file '{0}': {1}",
        "log_file_save_error": "Error saving file '{}': {}",
        "log_file_thread_error": "Thread error for file '{}': {}",
        "log_parallel_process_error": "Error during parallel processing of file '{0}': {1}",
        "log_file_task_cancelled": "Processing task for file '{0}' was cancelled.",
        "log_chunk_processing_stopped": "Chunk processing stopped for file '{0}'.",
        "log_chunk_processing_failed": "Failed to process some chunks for file '{0}'.",
        "log_temp_dir_remove_fail": "Failed to remove temporary chunk directory '{0}': {1}",
        "log_translation_process_error": "Global error during translation process: {0}",
        "log_file_process_stopped": "Processing stopped for file '{0}'.",
        "log_internal_lang_mismatch_using_ui": "The first line identifier '{1}' in file '{0}' differs from the source language '{2}' set in the UI. Translating using UI setting.",
        "log_internal_lang_no_identifier_using_ui": "Cannot find language identifier in file '{0}'. Translating using source language '{1}' set in UI.",
        "log_game_prompt_error": "Game prompt error: {}",
        "log_yml_check_error": "YML check error: {}",
        "log_stats_save_error": "Error saving statistics: {}",
        "log_stats_error": "Error processing statistics: {}",
        "stats_load_error": "Error loading statistics: {0}",
        "log_preview_callback_error": "Preview callback error: {}",
        "log_stats_callback_error": "Statistics callback error: {}",
        "log_backup_error": "Failed to create backup: {0}",
        "log_failed_to_translate_all": "Failed to translate {0} lines after all attempts.",
        "log_file_validation_errors": "File '{0}': YML syntax errors {1}",
        "log_yml_validation_errors": "File '{0}': {1} syntax errors found",
        "log_yml_validation_summary": "Sample validation result: {0} total errors found in {1} files",
        "log_validation_error_detail": "  - {0}",
        "log_verification_error": "Error during translation verification: {0}",
        "log_missing_lines_detected": "Translation verification: Detected {0} missing lines (out of {1} total)",

        # 3.3. API/Batch Logs
        "log_api_calling": "File '{}': Calling API...",
        "log_api_response_received": "File '{}': Response received ({} chars)",
        "log_api_no_response": "File '{}': No response from API",
        "log_batch_debug_start": "File '{}': Starting batch processing ({} lines)",
        "log_batch_translate_debug": "Translation language settings: {}",
        "log_api_call_debug": "API call: {}",
        "log_api_response_debug": "API response: {}",
        "log_batch_prompt_blocked": "File '{0}', batch processing: API prompt blocked (reason: {1}). Returning original content.",
        "log_batch_token_limit": "File '{0}', batch processing: API output token limit reached (reason code: {1}). Splitting batch and retrying.",
        "log_batch_single_line_token_limit": "File '{0}', batch processing: Single line content exceeds token limit. Returning original content.",
        "log_batch_abnormal_termination": "File '{0}', batch processing: Translation terminated abnormally ({1}). Returning original content.",
        "log_batch_empty_response": "File '{0}', batch processing: Received empty response from API. Returning original content.",
        "log_batch_line_mismatch": "File '{0}', batch processing: Translated line count differs from original. Returning as-is without adjustment.",
        "log_batch_retry_key_value_mismatch": "File '{}': key-value pair count mismatch ({} -> {}). Retrying... ({}/{})",
        "log_batch_retry_due_to_mismatch": "File '{0}': Line count mismatch ({1} -> {2}). Retrying... ({3}/{4})",
        "log_batch_max_retries_exceeded": "File '{0}': Maximum retry attempts ({1}) exceeded.",
        "log_batch_api_limit_error_split": "File '{0}', batch processing: API request limit error ({1}). Splitting batch and retrying.",
        "log_batch_single_line_api_limit": "File '{0}', batch processing: Single line content caused API request limit error. Returning original content.",
        "log_batch_unknown_error": "File '{0}', unknown error during batch processing: {1}",
        
        # 3.4. Skip logic related logs
        "log_skip_already_translated_enabled": "Skip already translated option enabled (batch level)",
        "log_skip_batch_status": "Batch translation status: {}/{} ({:.2f}), threshold: {}/{}",
        "log_skip_mixed_language_detected": "Mixed language detected - selective translation for source language lines only",
        "log_skip_line_skipped": "Line {} skipped: '{}'...",
        "log_skip_line_to_translate": "Line {} to translate: '{}'...",
        "log_skip_no_lines_to_translate": "No lines to translate - returning original batch",
        "log_skip_selective_translation": "Executing selective translation: {} lines",
        "log_batch_retrying": "File '{0}', an error occurred. Retrying batch once. ({1})",
        "log_batch_low_quality": "File '{0}': Low translation quality (average score: {1})",
        "log_source_remnant_detected": "Source language remnant detected in line {}: {}...",
        "log_batch_retry_source_remnants": "Retrying batch due to source language remnants ({}/{} lines affected). Retry {}/{}",

        # ======================================================================
        # 4. Tools
        # ======================================================================
        # 4.1. Translation Statistics Dashboard
        "dashboard_title": "Translation Statistics Dashboard",
        "files_tab": "Files",
        "graph_tab": "Statistics",
        "log_tab": "Log",
        "summary_title": "Summary",
        "session_time": "Session Time",
        "total_files": "Total Files",
        "completed_files": "Completed",
        "avg_quality": "Avg Quality",
        "total_lines": "Total Lines",
        "lines_per_min": "Lines/Min",
        "current_progress": "Current Progress",
        "no_active_translation": "No Active Translation",
        "status_idle": "Idle",
        "status_active": "Active",
        "status_completed": "Completed",
        "translating": "Translating",
        "translation_completed": "Translation Completed",
        "new_translation_started": "New translation session started",
        "starting_translation": "Starting translation...",
        "search_placeholder": "Search files...",
        "filter_quality": "Quality:",
        "filter_all": "All",
        "sort_by": "Sort by:",
        "sort_newest": "Newest first",
        "sort_oldest": "Oldest first",
        "sort_quality_high": "Quality (High-Low)",
        "sort_quality_low": "Quality (Low-High)",
        "sort_time_fast": "Time (Fast-Slow)",
        "sort_time_slow": "Time (Slow-Fast)",
        "col_filename": "Filename",
        "col_status": "Status",
        "col_quality": "Quality",
        "col_time": "Time",
        "col_lines": "Lines",
        "col_actions": "Actions",
        "open_folder": "Open Folder",
        "quality_distribution": "Quality Distribution",
        "time_statistics": "Time Statistics",
        "clear_log": "Clear Log",
        "export_stats": "Export",
        "clear_all": "Clear All",
        "confirm_clear_all": "Are you sure you want to clear all statistics?",
        "all_data_cleared": "All data has been cleared.",
        "export_success": "Statistics exported successfully.",
        "display_refreshed": "Display has been refreshed.",
        "filename": "Filename",
        "full_path": "Full Path",
        "original_file": "Original File",
        "time_taken": "Time Taken",
        "lines_translated": "Lines Translated",
        "quality_score": "Quality Score",
        "errors_found": "Errors Found",
        "completed_at": "Completed At",
        "stat_total_files": "Total Files",
        "stat_total_lines": "Total Lines",
        "stat_avg_time": "Avg Time/File",
        "stat_error_rate": "Error Rate",
        "stat_avg_quality": "Avg Quality",
        "stat_total_time": "Total Time",
        "stat_total_errors": "Errors",
        "chart_speed": "Translation Speed",
        "chart_quality": "Quality Distribution",
        "chart_errors": "Error Types",
        "chart_file_index": "File Index",
        "chart_time_seconds": "Time (seconds)",
        "chart_quality_score": "Quality Score",
        "chart_file_count": "File Count",
        "detail_stats_label": "Detailed Statistics by File",
        "translation_stats_file": "Translation statistics file",
        "stats_saved": "Statistics saved.",

        # 4.2. Term Consistency Checker
        "consistency_checker_title": "Term Consistency Checker",
        "analyze_consistency": "Analyze Consistency",
        "min_occurrences": "Min occurrences:",
        "inconsistencies_found": "inconsistencies found",
        "no_inconsistencies_found": "No inconsistencies found.",
        "tab_inconsistencies": "Inconsistencies",
        "tab_term_dictionary": "Term Dictionary",
        "col_original_term": "Original Term",
        "col_translations": "Translations",
        "col_files": "Files",
        "col_occurrences": "Occurrences",
        "col_original": "Original",
        "col_translation": "Translation",
        "col_frequency": "Frequency",
        "col_consistency": "Consistency",
        "search_term": "Search:",
        "export_glossary": "Export as Glossary",
        "fix_selected": "Fix Selected",
        "export_glossary_title": "Export Glossary",
        "glossary_exported": "Glossary saved to {0}",
        "glossary_export_error": "Error exporting glossary: {0}",
        "no_output_folder": "No output folder",

        # 4.3. Comparison Review Tool
        "comparison_review_window_title": "File Comparison and Review",
        "comparison_review_subtitle": "Compare original and translated files with advanced error detection",
        "comparison_review_select_folders_first": "Please select both source and target folders.",
        "comparison_review_no_matching_files": "No similarly named file pairs found in the two folders.\n(e.g., l_english vs l_korean)",
        "comparison_review_file_pairs": "File Pairs",
        "comparison_review_file_pairs_found": "file pairs found",
        "comparison_review_load_pair_button": "Load Selected File Pair",
        "comparison_review_select_file": "Select a file pair to begin comparison",
        "comparison_review_with_errors": "with errors",
        "comparison_review_filters": "Filters",
        "comparison_review_display_mode": "Display Mode:",
        "comparison_review_display_all_lines": "Display All Lines",
        "comparison_review_display_errors_only": "Errors Only",
        "comparison_review_error_filters": "Error Type Filters:",
        "comparison_review_error_regex": "Quotation Format",
        "comparison_review_error_source_remnants": "Source Remnants",
        "comparison_review_error_code_block": "Code Block Errors",
        "comparison_review_error_unclosed_quote": "Unclosed Quotes",
        "comparison_review_error_newline": "Newline Errors",
        "comparison_review_error_merged_line": "Merged Lines",
        "comparison_review_diff_calculating": "Calculating differences...",
        "comparison_review_no_differences_found": "No differences found (based on selected criteria).",
        "comparison_review_errors_found": "errors found",
        "comparison_review_no_errors": "No errors detected",
        "comparison_review_file_list": "File List",
        "comparison_review_file_comparison": "File Comparison",
        "comparison_review_original_file": "Original File",
        "comparison_review_translated_file": "Translated File (Editable)",
        "comparison_review_save_changes_button": "Save Changes (to Translated File)",
        "review_save_success": "Changes saved successfully.",
        "review_save_as_title": "Save As",
        "review_save_as_success": "File saved as:",
        "review_save_error": "Error saving file",
        "review_original_label": "Original",
        "review_translated_label": "Translated",
        "validation_error_regex": "Format Error",
        "no_errors": "No errors",

        # 4.4. Retranslation Tool
        "retranslation_window_title": "Retranslation Tool",
        "retranslation_window_description": "Detect and retranslate untranslated text segments",
        "retranslation_file_list": "Translated Files",
        "retranslation_scan_button": "Scan for Untranslated Text",
        "retranslation_untranslated_items": "Untranslated Items",
        "retranslation_select_all": "Select All",
        "retranslation_deselect_all": "Deselect All",
        "retranslation_retranslate_button": "Retranslate Selected",
        "retranslation_status_ready": "Ready to scan",
        "retranslation_no_output_folder": "Output folder not set",
        "retranslation_scanning": "Scanning files...",
        "retranslation_found_files": "Found {0} translated files",
        "retranslation_scan_complete": "Scan Complete",
        "retranslation_found_untranslated": "Found {0} untranslated items",
        "retranslation_no_untranslated": "No untranslated items found",
        "retranslation_original": "Original",
        "retranslation_current": "Current",
        "retranslation_reason_identical": "Identical to original",
        "retranslation_reason_english": "Contains English text",
        "retranslation_items_selected": "items selected",
        "retranslation_api_error": "API key and model must be configured",
        "retranslation_in_progress": "Retranslating...",
        "retranslation_complete": "Retranslation completed",
        "retranslation_rescan_prompt": "Retranslation completed. Would you like to scan again?",
        "retranslation_stopping": "Stopping...",

        # 4.5. Live Preview
        "live_preview_title": "Live Translation Preview",
        "auto_scroll": "Auto-scroll",
        "show_quality": "Show quality",
        "clear_preview": "Clear",
        "pause_preview": "Pause",
        "resume_preview": "Resume"
    },
    "zh_CN": {
        # ======================================================================
        # 1. 公共与通用 (Common & General)
        # ======================================================================
        "title": "P社游戏模组翻译器 v0.5",
        "ui_lang_self_name": "简体中文",
        "error_title": "错误",
        "warn_title": "警告",
        "info_title": "信息",
        "confirm": "确认",
        "success": "成功",
        "error": "错误",
        "warning": "警告",
        "open": "打开",
        "close": "关闭",
        "clear": "清除",
        "browse_button": "浏览",
        "refresh": "刷新",
        "export": "导出",
        "analyzing": "分析中...",
        "analysis_complete": "分析完成",
        "feature_not_implemented": "{0} 功能尚未实现。",
        "no_data_to_export": "没有可导出的数据",

        # ======================================================================
        # 2. 主窗口界面 (Main Window UI)
        # ======================================================================
        # 2.1. 界面设置 (UI Settings)
        "ui_settings_frame_title": "界面设置",
        "ui_lang_label": "界面语言：",
        "ui_lang_tooltip": "更改程序界面的显示语言。",
        "appearance_mode_label": "主题模式：",
        "dark_mode": "深色",
        "light_mode": "浅色",
        "system_mode": "系统默认",
        "refresh_button_tooltip": "刷新界面",

        # 2.2. API 及模型设置 (API & Model Settings)
        "api_settings_frame": "API 及模型设置",
        "api_key_label": "Gemini API 密钥：",
        "api_key_tooltip": "请输入从 Google AI Studio 获取的 Gemini API 密钥。\n例如：AIzaSy...",
        "model_label": "翻译模型：",
        "model_tooltip": "选择用于翻译的 Gemini 模型。\n不同模型的性能和成本可能有所不同。",
        "temperature_label": "温度:",
        "temperature_tooltip": "控制翻译的随机性（0.0=确定性，1.0=创造性）",

        # 2.3. 文件夹设置 (Folder Settings)
        "folder_frame": "文件夹选择",
        "input_folder_label": "输入文件夹：",
        "input_folder_tooltip": "选择包含待翻译的原始 YML 文件的文件夹。",
        "input_browse_tooltip": "打开文件浏览器以选择输入文件夹。",
        "output_folder_label": "输出文件夹：",
        "output_browse_tooltip": "打开文件浏览器以选择输出文件夹。",
        "output_folder_tooltip": "选择用于保存已翻译 YML 文件的文件夹。",

        # 2.4. 翻译语言设置 (Translation Language Settings)
        "lang_settings_frame": "翻译语言设置 (用于 API 请求)",
        "source_content_lang_label": "源内容语言：",
        "source_content_lang_tooltip": "选择 YML 文件内文本的实际源语言。\n此信息将传递给 API 以提高翻译质量。",
        "target_trans_lang_label": "目标翻译语言：",
        "target_trans_lang_tooltip": "选择要将文本翻译成的语言。\n输出文件的语言标识符（例如 l_korean）也可能根据此设置更改。",
        "game_type_label": "游戏选择：",
        "game_type_tooltip": "选择游戏以应用该游戏的优化翻译设置。",
        
        # 2.5. 翻译详细设置 (Detailed Translation Settings)
        "detailed_settings_frame": "翻译详细设置",
        "batch_size_label": "批处理大小：",
        "batch_size_tooltip": "一次发送到 API 进行翻译的文本行数。\n如果设置过大，API 可能无响应或发生错误。",
        "concurrent_files_label": "并发文件数：",
        "concurrent_files_tooltip": "同时翻译多个文件时，设置一次并行处理的文件数量。\n请根据您的计算机性能进行调整。",
        "max_output_tokens_label": "最大输出令牌数：",
        "max_output_tokens_tooltip": "以令牌为单位限制翻译结果（文本）的最大长度。\n请注意不要超过所选模型的最大令牌限制。",
        "batch_delay_label": "批次间延迟（秒）：",
        "batch_delay_tooltip": "设置每个翻译批处理请求之间的等待时间（以秒为单位）。\n有助于避免超出 API 每分钟请求限制。",
        "max_retries_label": "最大重试次数：",
        "max_retries_tooltip": "设置翻译失败时的最大重试次数。(1-10)",
        "split_threshold_label": "文件拆分阈值(行)：",
        "split_threshold_tooltip": "超过此行数的文件将被拆分翻译。(0表示不拆分)",
        "keep_identifier_label": "保留原始 l_english 标识符",
        "keep_identifier_tooltip": "选中时：文件首行的 'l_english:' 及文件名中的 'l_english' 部分保持不变。\n未选中时：根据“目标翻译语言”进行更改（例如：l_korean）。",
        "check_internal_lang_label": "当内部语言与文件名不同时，优先使用UI设置",
        "check_internal_lang_tooltip": "选中时：如果文件名或文件首行的语言标识符与UI“源内容语言”设置不同，则优先使用UI设置传递给翻译API。\n（例如：l_english 文件但内容为中文时，若UI源语言设置为中文，则视为中文）。\n相关信息会记录在日志中。",
        "skip_already_translated_label": "跳过已翻译的行",
        "skip_already_translated_tooltip": "包含目标语言字符的行将被视为已翻译并跳过。",
        "enable_backup_label": "启用自动备份",
        "enable_backup_tooltip": "在覆盖文件前创建备份。",

        # 2.6. 提示词与术语表 (Prompt & Glossary)
        "prompt_glossary_frame_title": "提示词与术语表管理",
        "prompt_edit_frame_title": "编辑提示词",
        "prompt_edit_textbox_tooltip": "这是将传递给翻译 API 的提示词。\n必须保留 {source_lang_for_prompt}、{target_lang_for_prompt}、{glossary_section}、{batch_text} 这些占位符。",
        "load_prompt_button": "从文件加载",
        "load_prompt_button_tooltip": "从文本文件加载提示词。",
        "save_prompt_button": "保存到文件",
        "save_prompt_button_tooltip": "将当前提示词保存到文本文件。",
        "reset_prompt_button": "恢复默认值",
        "reset_prompt_button_tooltip": "将提示词重置为程序默认值。",
        "prompt_file_load_title": "加载提示词文件",
        "prompt_file_save_title": "保存提示词文件",
        "glossary_management_frame_title": "术语表管理",
        "add_glossary_button": "添加术语表",
        "add_glossary_button_tooltip": "将新的术语表文件添加到列表中。",
        "remove_glossary_button": "移除选定术语表",
        "remove_glossary_button_tooltip": "从列表中移除选定的术语表文件。",
        "glossary_list_tooltip": "已激活的术语表列表。用于翻译。",
        "glossary_file_select_title": "选择术语表文件",
        "glossary_item_loaded": "已加载: {0} ({1} 个条目)",
        "glossary_item_error": "错误: {0}",
        "glossary_item_empty": "为空: {0}",
        "glossary_error_not_found": "文件未找到",
        "glossary_error_empty": "空文件",
        "glossary_error_no_valid": "无有效条目",

        # 2.7. 控制面板与进度 (Control Panel & Progress)
        "translate_button": "开始翻译",
        "translate_button_tooltip": "使用输入的设置开始翻译所有目标文件。",
        "stop_button": "停止",
        "stop_button_tooltip": "停止当前正在进行的翻译或验证任务。\n（已开始的批处理可能会完成）",
        "progress_frame": "进度",
        "log_frame": "运行日志",
        
        # 2.8. 状态栏消息 (Status Bar Messages)
        "status_waiting": "等待中...",
        "status_preparing": "准备中...",
        "status_translating": "翻译中...",
        "status_translating_progress": "翻译进行中... ({0}/{1})",
        "status_chunk_progress": "分块进度... ({0}/{1})",
        "status_completed_all": "所有文件处理完成 ({0}/{1})",
        "status_stopped": "任务已停止 ({0}/{1} 已处理)",
        "status_completed_some": "部分文件处理完成 ({0}/{1})",
        "status_no_files": "未找到要处理的 YML 文件。",
        "log_no_yml_files_found_short": "无文件",
        "log_search_yml_files_short": "正在搜索文件...",
        "status_stopped_short": "已停止",
        "status_completed_some_short": "部分完成",
        "status_completed_all_short": "全部完成",

        # 2.9. 工具菜单 (Tools Menu)
        "tools_menu": "工具",
        "open_dashboard": "翻译统计仪表板",
        "open_consistency_checker": "术语一致性检查器",
        "open_comparison_window_button": "打开文件比较/校对窗口",
        "open_retranslation_window_button": "打开重新翻译工具",

        # ======================================================================
        # 3. 运行日志 (Execution Logs)
        # ======================================================================
        # 3.1. 一般/信息日志 (General/Info Logs)
        "settings_saved_log": "设置已保存。",
        "log_model_start": "开始使用 '{0}' 模型进行翻译。",
        "log_search_yml_files": "正在输入文件夹中搜索文件名包含 '{0}' 字符串的 YML 文件...",
        "log_found_yml_files": "在输入文件夹中找到 {0} 个 YML 文件。",
        "log_total_files_start": "共处理 {0} 个文件 (用于翻译)。",
        "log_concurrent_workers": "并发处理工作线程数: {}",
        "log_drag_drop_folder_set": "通过拖放设置输入文件夹：{0}",
        "log_file_processing": "正在处理文件: {}",
        "log_file_process_start": "开始处理 (翻译) 文件 '{0}' ({1} 行)。",
        "log_file_completed": "文件处理完成: {0}",
        "log_line_already_translated": "文件 '{0}'：第 {1} 行已翻译，跳过。",
        "log_file_split_start": "文件 '{0}' ({1}行) 过大，将按 {2} 行拆分翻译。",
        "log_processing_chunk": "正在处理分块 {0}/{1} ('{2}')...",
        "log_chunk_completed": "分块 {0}/{1} 完成。",
        "log_merging_chunks": "正在将翻译后的分块合并到最终文件 '{0}'...",
        "log_temp_dir_created": "已创建临时分块目录：{0}",
        "log_temp_dir_removed": "已删除临时分块目录：{0}",
        "log_batch_translate": "  正在翻译部分文本：{0}-{1} 行 / 共 {2} 行",
        "log_batch_translated_count": "文件 '{}'：{}个条目中已翻译{}个",
        "log_batch_translation_summary": "文件 '{}'：已翻译 {} 个条目 (共 {} 个)",
        "log_batch_all_already_translated": "文件 '{0}'：此批次中的所有行都已翻译。",
        "log_translation_lines_count": "文件 '{}'：原文 {}行 -> 译文 {}行",
        "log_file_saved_size": "文件 '{}' 已保存 (大小: {} 字节)",
        "log_first_line_keep": "  文件首行的 'l_english:' 标识符将保持原始状态。",
        "log_first_line_change": "  将文件首行标识符从 '{0}' 更改为 '{1}'。",
        "log_output_filename_change": "  将输出文件名从 '{0}' 更改为 '{1}'。",
        "log_backup_created": "已创建备份文件：{0}",
        "log_checkpoint_found": "找到文件 '{0}' 的检查点。从第 {1} 行恢复。",
        "log_translation_complete_save": "翻译完成！已保存到文件 '{0}'。",
        "log_all_translation_done": "所有文件的翻译任务已完成！",
        "log_stop_requested": "已请求停止任务...",
        "log_translation_stopped_by_user": "翻译任务已被用户停止。",
        "log_prompt_loaded_from_custom": "正在使用自定义提示词。",
        "log_prompt_loaded_from_file": "已从文件 '{0}' 加载提示词。",
        "log_prompt_saved_to_file": "提示词已保存到文件 '{0}'。",
        "log_prompt_reset_to_default": "提示词已重置为默认值。",
        "log_glossary_added": "已添加术语表 '{0}'。",
        "log_glossary_removed": "已移除术语表 '{0}'。",
        "log_combined_glossary_empty": "合并后的术语表为空。",
        "log_combined_glossary_info": "正在使用合并后术语表中的 {0} 个有效条目。",
        "log_retrying_missing_lines": "正在重试 {0} 个缺失行...（第 {1}/3 次尝试）",

        # 3.2. 错误/警告日志 (Error/Warning Logs)
        "error_api_key_needed": "需要输入 Gemini API 密钥。",
        "error_model_needed": "必须选择翻译模型。",
        "error_input_folder_invalid": "必须选择一个有效的输入文件夹。",
        "error_output_folder_needed": "必须选择输出文件夹。",
        "error_numeric_setting_invalid": "数字设置无效。请输入一个有效的数字。",
        "error_prompt_missing_placeholders": "提示词中缺少必要的占位符：{0}",
        "error_create_output_folder": "无法创建输出文件夹：{0}",
        "warn_already_translating": "翻译任务已在进行中。请稍候。",
        "warn_already_validating": "验证任务已在进行中。请稍候。",
        "warn_already_processing": "其他任务（翻译或验证）已在进行中。",
        "info_no_translation_active": "当前没有正在进行的翻译任务。",
        "info_no_validation_active": "当前没有正在进行的验证任务。",
        "log_api_model_init_fail": "API 或模型初始化失败：{0}",
        "log_no_yml_files_found": "在输入文件夹 '{0}' 中未找到文件名包含 '{1}' 的 YML 文件。",
        "log_file_empty": "文件 '{0}' 为空，已跳过。",
        "log_file_only_identifier": "  文件 '{0}' 仅包含标识符行，跳过内容翻译。",
        "log_file_no_content_to_translate": "  文件 '{0}' 没有可翻译的内容。",
        "log_batch_no_translatable": "没有可翻译的条目：{}",
        "log_file_process_error": "处理文件 '{0}' 时发生错误：{1}",
        "log_file_save_error": "保存文件 '{}' 出错: {}",
        "log_file_thread_error": "文件 '{}' 的线程错误: {}",
        "log_parallel_process_error": "并行处理文件 '{0}' 时发生错误：{1}",
        "log_file_task_cancelled": "文件 '{0}' 的处理任务已取消。",
        "log_chunk_processing_stopped": "文件 '{0}' 的分块处理已停止。",
        "log_chunk_processing_failed": "文件 '{0}' 的部分分块处理失败。",
        "log_temp_dir_remove_fail": "删除临时分块目录 '{0}' 失败：{1}",
        "log_translation_process_error": "翻译过程中发生全局错误：{0}",
        "log_file_process_stopped": "处理文件 '{0}' 时任务已停止。",
        "log_internal_lang_mismatch_using_ui": "文件 '{0}' 中的首行标识符 '{1}' 与 UI 中设置的源语言 '{2}' 不同。将使用 UI 设置进行翻译。",
        "log_internal_lang_no_identifier_using_ui": "在文件 '{0}' 中找不到语言标识符。将使用 UI 中设置的源语言 '{1}' 进行翻译。",
        "log_game_prompt_error": "游戏提示词错误: {}",
        "log_yml_check_error": "YML 检查错误: {}",
        "log_stats_save_error": "保存统计数据时出错: {}",
        "log_stats_error": "处理统计数据时出错: {}",
        "stats_load_error": "加载统计数据时出错: {0}",
        "log_preview_callback_error": "预览回调错误: {}",
        "log_stats_callback_error": "统计回调错误: {}",
        "log_backup_error": "创建备份失败：{0}",
        "log_failed_to_translate_all": "在所有尝试后，仍有 {0} 行翻译失败。",
        "log_file_validation_errors": "文件 '{0}'：YML 语法错误 {1}",
        "log_yml_validation_errors": "文件 '{0}'：发现 {1} 个语法错误",
        "log_yml_validation_summary": "示例验证结果：在 {1} 个文件中共发现 {0} 个错误",
        "log_validation_error_detail": "  - {0}",
        "log_verification_error": "翻译验证时出错：{0}",
        "log_missing_lines_detected": "翻译验证：检测到 {0} 行缺失（共 {1} 行）",

        # 3.3. API/批处理相关日志 (API/Batch Logs)
        "log_api_calling": "文件 '{}'：正在调用 API...",
        "log_api_response_received": "文件 '{}'：已收到响应 ({} 字符)",
        "log_api_no_response": "文件 '{}'：API 无响应",
        "log_batch_debug_start": "文件 '{}'：开始批处理 ({} 行)",
        "log_batch_translate_debug": "翻译语言设置: {}",
        "log_api_call_debug": "API 调用: {}",
        "log_api_response_debug": "API 响应: {}",
        "log_batch_prompt_blocked": "文件 '{0}', 批处理：API 提示词被阻止 (原因: {1})。返回原始内容。",
        "log_batch_token_limit": "文件 '{0}', 批处理：已达到 API 输出令牌限制 (原因代码: {1})。将拆分批次并重试。",
        "log_batch_single_line_token_limit": "文件 '{0}', 批处理：单行内容也超出令牌限制。返回原始内容。",
        "log_batch_abnormal_termination": "文件 '{0}', 批处理：翻译异常终止 ({1})。返回原始内容。",
        "log_batch_empty_response": "文件 '{0}', 批处理：从 API 收到空响应。返回原始内容。",
        "log_batch_line_mismatch": "文件 '{0}', 批处理：翻译后的行数与原始行数不符。将原样返回，不进行调整。",
        "log_batch_retry_key_value_mismatch": "文件'{}'：键值对数量不匹配 ({} -> {})。正在重试... ({}/{})",
        "log_batch_retry_due_to_mismatch": "文件 '{0}'：行数不匹配（{1} -> {2}）。正在重试...（{3}/{4}）",
        "log_batch_max_retries_exceeded": "文件 '{0}'：超过最大重试次数（{1}）。",
        "log_batch_api_limit_error_split": "文件 '{0}', 批处理：发生 API 请求限制相关错误 ({1})。将拆分批次并重试。",
        "log_batch_single_line_api_limit": "文件 '{0}', 批处理：单行内容也发生 API 请求限制错误。返回原始内容。",
        "log_batch_unknown_error": "文件 '{0}', 批处理过程中发生未知错误: {1}",
        
        # 3.4. 跳过逻辑相关日志
        "log_skip_already_translated_enabled": "已启用跳过已翻译选项（批次级别）",
        "log_skip_batch_status": "批次翻译状态: {}/{} ({:.2f})，阈值: {}/{}",
        "log_skip_mixed_language_detected": "检测到混合语言 - 仅对源语言行进行选择性翻译",
        "log_skip_line_skipped": "跳过第 {} 行: '{}'...",
        "log_skip_line_to_translate": "第 {} 行待翻译: '{}'...",
        "log_skip_no_lines_to_translate": "无需翻译的行 - 返回原始批次",
        "log_skip_selective_translation": "执行选择性翻译: {} 行",
        "log_batch_retrying": "文件 '{0}' 发生错误，正在重试该批次。 ({1})",
        "log_batch_low_quality": "文件 '{0}'：翻译质量低（平均分数：{1}）",
        "log_source_remnant_detected": "在行 {} 中检测到源语言残留: {}...",
        "log_batch_retry_source_remnants": "因源语言残留而重试批处理 (影响了 {}/{} 行)。重试 {}/{}",

        # ======================================================================
        # 4. 工具 (Tools)
        # ======================================================================
        # 4.1. 翻译统计仪表板 (Translation Statistics Dashboard)
        "dashboard_title": "翻译统计仪表板",
        "files_tab": "文件",
        "graph_tab": "统计",
        "log_tab": "日志",
        "summary_title": "摘要",
        "session_time": "会话时长",
        "total_files": "文件总数",
        "completed_files": "已完成",
        "avg_quality": "平均质量",
        "total_lines": "总行数",
        "lines_per_min": "行/分钟",
        "current_progress": "当前进度",
        "no_active_translation": "无活动翻译任务",
        "status_idle": "空闲",
        "status_active": "活动",
        "status_completed": "已完成",
        "translating": "翻译中",
        "translation_completed": "翻译完成",
        "new_translation_started": "新的翻译会话已开始",
        "starting_translation": "开始翻译中...",
        "search_placeholder": "搜索文件...",
        "filter_quality": "质量:",
        "filter_all": "全部",
        "sort_by": "排序方式:",
        "sort_newest": "最新优先",
        "sort_oldest": "最旧优先",
        "sort_quality_high": "质量 (高-低)",
        "sort_quality_low": "质量 (低-高)",
        "sort_time_fast": "时间 (快-慢)",
        "sort_time_slow": "时间 (慢-快)",
        "col_filename": "文件名",
        "col_status": "状态",
        "col_quality": "质量",
        "col_time": "时间",
        "col_lines": "行数",
        "col_actions": "操作",
        "open_folder": "打开文件夹",
        "quality_distribution": "质量分布",
        "time_statistics": "时间统计",
        "clear_log": "清除日志",
        "export_stats": "导出",
        "clear_all": "全部清除",
        "confirm_clear_all": "您确定要清除所有统计数据吗？",
        "all_data_cleared": "所有数据已被清除。",
        "export_success": "统计数据导出成功。",
        "display_refreshed": "显示已刷新。",
        "filename": "文件名",
        "full_path": "完整路径",
        "original_file": "源文件",
        "time_taken": "耗时",
        "lines_translated": "已翻译行数",
        "quality_score": "质量得分",
        "errors_found": "发现的错误",
        "completed_at": "完成于",
        "stat_total_files": "文件总数",
        "stat_total_lines": "总行数",
        "stat_avg_time": "平均时间/文件",
        "stat_error_rate": "错误率",
        "stat_avg_quality": "平均质量",
        "stat_total_time": "总时间",
        "stat_total_errors": "错误数",
        "chart_speed": "翻译速度",
        "chart_quality": "质量分布",
        "chart_errors": "错误类型",
        "chart_file_index": "文件索引",
        "chart_time_seconds": "时间（秒）",
        "chart_quality_score": "质量分数",
        "chart_file_count": "文件数量",
        "detail_stats_label": "按文件详细统计",
        "translation_stats_file": "翻译统计文件",
        "stats_saved": "统计已保存。",

        # 4.2. 术语一致性检查器 (Term Consistency Checker)
        "consistency_checker_title": "术语一致性检查器",
        "analyze_consistency": "分析一致性",
        "min_occurrences": "最小出现次数：",
        "inconsistencies_found": "个不一致项",
        "no_inconsistencies_found": "未发现不一致项。",
        "tab_inconsistencies": "不一致项",
        "tab_term_dictionary": "术语词典",
        "col_original_term": "原文术语",
        "col_translations": "翻译列表",
        "col_files": "文件",
        "col_occurrences": "出现次数",
        "col_original": "原文",
        "col_translation": "译文",
        "col_frequency": "频率",
        "col_consistency": "一致性",
        "search_term": "搜索：",
        "export_glossary": "导出为术语表",
        "fix_selected": "修复选定项",
        "export_glossary_title": "导出术语表",
        "glossary_exported": "术语表已保存至 {0}",
        "glossary_export_error": "导出术语表错误：{0}",
        "no_output_folder": "无输出文件夹",

        # 4.3. 文件比较/校对工具 (Comparison Review Tool)
        "comparison_review_window_title": "文件比较与校对",
        "comparison_review_subtitle": "通过高级错误检测比较原文和译文文件",
        "comparison_review_select_folders_first": "请同时选择源文件夹和目标文件夹。",
        "comparison_review_no_matching_files": "在两个文件夹中找不到名称相似的文件对。\n（例如：l_english 与 l_korean）",
        "comparison_review_file_pairs": "文件对",
        "comparison_review_file_pairs_found": "个文件对已找到",
        "comparison_review_load_pair_button": "加载选定文件对",
        "comparison_review_select_file": "选择文件对以开始比较",
        "comparison_review_with_errors": "个有错误",
        "comparison_review_filters": "过滤器",
        "comparison_review_display_mode": "显示模式：",
        "comparison_review_display_all_lines": "显示所有行",
        "comparison_review_display_errors_only": "仅显示错误",
        "comparison_review_error_filters": "错误类型过滤器：",
        "comparison_review_error_regex": "引号格式",
        "comparison_review_error_source_remnants": "原文残留",
        "comparison_review_error_code_block": "代码块错误",
        "comparison_review_error_unclosed_quote": "未闭合引号",
        "comparison_review_error_newline": "换行错误",
        "comparison_review_error_merged_line": "合并行",
        "comparison_review_diff_calculating": "正在计算差异...",
        "comparison_review_no_differences_found": "未找到差异（根据所选标准）。",
        "comparison_review_errors_found": "个错误发现",
        "comparison_review_no_errors": "未检测到错误",
        "comparison_review_file_list": "文件列表",
        "comparison_review_file_comparison": "文件比较",
        "comparison_review_original_file": "原文文件",
        "comparison_review_translated_file": "译文文件（可编辑）",
        "comparison_review_save_changes_button": "保存更改（至译文文件）",
        "review_save_success": "更改已保存。",
        "review_save_as_title": "另存为",
        "review_save_as_success": "文件已另存为：",
        "review_save_error": "保存文件时出错",
        "review_original_label": "原文",
        "review_translated_label": "译文",
        "validation_error_regex": "格式错误",
        "no_errors": "无错误",

        # 4.4. 重新翻译工具 (Retranslation Tool)
        "retranslation_window_title": "重新翻译工具",
        "retranslation_window_description": "检测并重新翻译未翻译的文本段",
        "retranslation_file_list": "已翻译文件",
        "retranslation_scan_button": "扫描未翻译文本",
        "retranslation_untranslated_items": "未翻译项目",
        "retranslation_select_all": "全选",
        "retranslation_deselect_all": "取消全选",
        "retranslation_retranslate_button": "重新翻译所选",
        "retranslation_status_ready": "准备扫描",
        "retranslation_no_output_folder": "未设置输出文件夹",
        "retranslation_scanning": "正在扫描文件...",
        "retranslation_found_files": "找到 {0} 个已翻译文件",
        "retranslation_scan_complete": "扫描完成",
        "retranslation_found_untranslated": "找到 {0} 个未翻译项目",
        "retranslation_no_untranslated": "未找到未翻译项目",
        "retranslation_original": "原文",
        "retranslation_current": "当前",
        "retranslation_reason_identical": "与原文相同",
        "retranslation_reason_english": "包含英文文本",
        "retranslation_items_selected": "个项目已选中",
        "retranslation_api_error": "必须配置API密钥和模型",
        "retranslation_in_progress": "正在重新翻译...",
        "retranslation_complete": "重新翻译完成",
        "retranslation_rescan_prompt": "重新翻译已完成。是否要再次扫描？",
        "retranslation_stopping": "正在停止...",

        # 4.5. 实时预览 (Live Preview)
        "live_preview_title": "实时翻译预览",
        "auto_scroll": "自动滚动",
        "show_quality": "显示质量",
        "clear_preview": "清空",
        "pause_preview": "暂停",
        "resume_preview": "继续"
    }
}

def get_language_code(lang_name_en):
    """Converts English language name to Paradox-style language code."""
    mapping = {
        'English': "english",
        'Korean': "korean",
        'Simplified Chinese': "simp_chinese",
        'French': "french",
        'German': "german",
        'Spanish': "spanish",
        'Japanese': "japanese",
        'Portuguese': "portuguese",
        'Russian': "russian",
        'Turkish': "turkish"
    }
    return mapping.get(lang_name_en, "english")

def get_language_name(lang_code):
    """Converts Paradox-style language code back to its English language name."""
    mapping = {
        "english": 'English',
        "korean": 'Korean',
        "simp_chinese": 'Simplified Chinese',
        "french": 'French',
        "german": 'German',
        "spanish": 'Spanish',
        "japanese": 'Japanese',
        "portuguese": 'Portuguese',
        "russian": 'Russian',
        "turkish": 'Turkish'
    }
    return mapping.get(lang_code.lower(), 'English')
def set_language(language_code):
    """애플리케이션의 현재 언어를 설정합니다."""
    global CURRENT_LANGUAGE
    if language_code in LANGUAGES:
        CURRENT_LANGUAGE = language_code
    else:
        CURRENT_LANGUAGE = "en"

# [핵심 추가]
def get_current_language():
    """현재 설정된 언어 코드를 반환합니다."""
    return CURRENT_LANGUAGE

# [핵심 추가]
def get_text(key, *args):
    """
    주어진 키에 해당하는 현재 언어의 텍스트를 반환합니다.
    - 키가 없으면 영어 텍스트를, 그것도 없으면 키 자체를 반환합니다.
    - *args를 통해 포맷팅을 지원합니다 (예: get_text("log_file_completed", "my_file.yml"))
    """
    text = LANGUAGES.get(CURRENT_LANGUAGE, {}).get(key)
    if text is None:
        text = LANGUAGES.get("en", {}).get(key, key) # 현재 언어에 없으면 영어에서 찾고, 없으면 key 반환

    if args:
        try:
            return text.format(*args)
        except (IndexError, KeyError):
            return text # 포맷팅 실패 시 원본 텍스트 반환
    return text